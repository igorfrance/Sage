/*!
 * atom.js  v.2.0
 *
 * This library depends on jQuery. Make sure jQuery 1.8 or higher is included before this script.
 *
 * Copyright 2012 Igor France
 * Licensed under the MIT License
 *
 */
var atom=new function(){function e(){}function o(n){this.get=o.prototype.get,this.set=o.prototype.set,this.default=undefined,this.value=null,this.restrictTo=null,i.extend(this,n),this.value=this.default}function h(){}function l(n){this.construct(f.fromArguments(arguments,1)),this.$element=i(n),this.settings=new h}var r={},i=window.jQuery,k=new function(){this.toQueryString=function(n,i,r){var u,f;if(n==null)return"";i=i||"=",r=r||"&",u=[];for(f in n)n.hasOwnProperty(f)&&(u.push(f),u.push(i),u.push(n[f]==null?"":n[f]),u.push(r));return u.pop(),u.join(t.EMPTY)}},n=new function(){function t(){return arguments.length?typeof arguments[0]:null}return t.registerNamespace=function(n){for(var i=n.split("."),r=window,t=0;t<i.length;t++)r[i[t]]==null&&(r[i[t]]={}),r=r[i[t]]},t.isArray=function(t,i){return t==null?i||!1:t.constructor==Array||t!=window&&!n.isString(t)&&!n.isFunction(t)&&n.isNumber(t.length)||i||!1},t.isBoolean=function(n){return n==null?!1:t(n)=="boolean"||n.constructor==Boolean},t.isFunction=function(i,r){return i==null?r||!1:t(i)=="function"||i.constructor==Function||!n.isString(i)&&Boolean(String(i).match(/\bfunction\b/))||r||!1},t.isNull=function(n){return n==null||n==undefined},t.isNumber=function(n,i){return n==null?i||!1:t(n)=="number"&&isFinite(n)||n.constructor==Number||i||!1},t.isNumeric=function(n){return!isNaN(parseFloat(n))},t.isDate=function(t,i){return t==null?i||!1:n.isFunction(t.getDate)&&n.isFunction(t.getTime)||i||!1},t.isObject=function(i,r){return i==null||i==undefined?r||!1:t(i)=="object"&&i.constructor!=String&&i.constructor!=Number||n.isFunction(i)||r||!1},t.isString=function(n,i){return n==null?i||!1:t(n)=="string"||n!=null&&n.constructor==String||i||!1},t.isNode=function(t){return n.isObject(t)&&n.isNumber(t.nodeType)},t.isDocument=function(t){return n.isNode(t)&&t.nodeType==9},t.isElement=function(t){return n.isNode(t)&&t.nodeType==1},t.isHtmlElement=function(t){return n.isElement(t)&&n.isString(t.className)},t.instanceOf=function(t,i){if(!n.isObject(t)||!n.isFunction(i))return!1;if(t instanceof i||t.__type&&t.__type.constructor==i)return!0;if(t.__type&&t.__type.base!=null)for(var r=t;r=r.__type.base;)if(r.__type.constructor==i)return!0;return!1},t.implements=function(t,i){var r=!0,u;if(t==null||i==null)r=!1;else for(u in i)if(i.hasOwnProperty(u)&&!n.isFunction(t[u])){r=!1;break}return r},t.extend=function(n,t,i){if(i=i||!1,n&&t)for(var r in t)t.hasOwnProperty(r)&&(n[r]==undefined||i)&&(n[r]=t[r]);return n},t},t=new function(){function i(t,i,r,u){for(var e=String(t),o=i-e.length,f=[];f.length<o;)f.push(r);return f=f.join(n.EMPTY),u==2?e+f:f+e}var n=this,t;n.EMPTY="",String.EMPTY="",this.format=function(r){var u=f.fromArguments(arguments,1);return t==null&&(t=/\{(\d+)([$#])?(\d+)?([+-])?\}/g),String(r).replace(t,function(){var t,r;try{t=String(u[arguments[1]])}catch(f){t=n.EMPTY}return arguments[2]!=n.EMPTY&&arguments[3]!=n.EMPTY&&(r=arguments[4]=="+"?2:1,t=i(t,arguments[3],arguments[2]=="#"?"0":" ",r)),t})},this.isEmpty=function(t){return t==null||n.trim(t)==n.EMPTY},this.trim=function(n,t){t==null&&(t="\\s");var i=new RegExp("^["+t+"]*([\\s\\S]*?)["+t+"]*$");return String(n).replace(i,"$1")},this.padLeft=function(n,t,i){i==undefined&&(i=" ");for(var r=String(n);r.length<t;)r=i+r;return r},this.padRight=function(n,t,i){i==undefined&&(i=" ");for(var r=String(n);r.length<t;)r=r+i;return r},this.repeat=function(t,i){for(var u=[],r=0;r<i;r++)u.push(t);return u.join(n.EMPTY)},this.concat=function(){for(var i=[],t=0;t<arguments.length;t++)i.push(arguments[t]);return i.join(n.EMPTY)},this.substitute=function(n,t){return!n||!t?n:n.replace(/\{([^}{]+)\}/g,function(n,i){return t[i]!=null?t[i]:n})},String.prototype.trim=function(t){return n.trim(this,t)},String.prototype.format=function(){return n.format(this,arguments)}},u,p,w;Number.random=function(){var i=0,t=Number.MAX_VALUE,r=!0,u;return arguments.length==1&&(n.isBoolean(arguments[0])?r=!arguments[0]:n.isNumber(arguments[0])&&(t=arguments[0])),arguments.length==2&&(n.isBoolean(arguments[1])?(t=parseInt(arguments[0])||0,r=!arguments[1]):n.isNumber(arguments[1])&&(i=parseInt(arguments[0])||0,t=arguments[1])),arguments.length==3&&(i=parseInt(arguments[0])||0,t=parseInt(arguments[1])||0,r=!arguments[2]),u=i+(t-i)*Math.random(),r?Math.round(u):u};var f=new function(){this.fromArguments=function(t,i,r){var u,f;if(t==null||undefined)return[];for(n.isArray(t)||(t=[t]),t.length==1&&n.isArray(t[0])&&(t=t[0]),isNaN(parseInt(i))&&(i=0),isNaN(parseInt(r))&&(r=t.length-1),u=[],f=i;f<=r;f++)u.push(t[f]);return u.length==1&&n.isArray(u[0])&&(u=u[0]),u},this.flatten=function(){for(var r=[],t,i,u=0;u<arguments.length;u++){if(t=arguments[u],!n.isArray(t)){r.push(t);continue}for(i=0;i<t.length;i++)n.isArray(t[i])?r.push.apply(r,this.flatten(t[i])):r.push(t[i])}return r};var t={contains:function(n){return this.indexOf(n)>=0},indexOf:function(n,t){var r=isNaN(t)?0:t,i;if(r<0||r>this.length-1)return-1;for(i=r;i<this.length;i++)if(this[i]==n)return i;return-1},lastIndexOf:function(n,t){var r=isNaN(t)?this.length-1:t,i;if(r<0||r>this.length-1)return-1;for(i=r;i>=0;i--)if(this[i]==n)return i;return-1},every:function(n,t){var i,r;if(typeof n!="function")throw new Error("The callback argument is not a function!");for(t=t||this,i=0;i<this.length;i++)if(r=n.call(t,this[i],i,this),!r)return!1;return!0},some:function(n,t){var i,r;if(typeof n!="function")throw new Error("The callback argument is not a function!");for(t=t||this,i=0;i<this.length;i++)if(r=n.call(t,this[i],i,this),r)return!0;return!1},filter:function(n,t){var r,i,u;if(typeof n!="function")throw new Error("The callback argument is not a function!");for(r=[],t=t||this,i=0;i<this.length;i++)u=n.call(t,this[i],i,this),u&&r.push(this[i]);return r},forEach:function(n,t){if(typeof n!="function")throw new Error("The callback argument is not a function!");t=t||this;for(var i=0;i<this.length;i++)this[i]!==undefined&&n.call(t,this[i],i,this)},map:function(n,t){var r,i;if(typeof n!="function")throw new Error("The callback argument is not a function!");for(r=[],t=t||this,i=0;i<this.length;i++)this[i]!==undefined&&r.push(n.call(t,this[i],i,this));return r}};n.extend(Array.prototype,t)},d=new function(){return function(){var r="Error",u=String(arguments[0]),t=undefined,i;return arguments.length==1?n.isObject(arguments[0])&&(r=arguments[0].name||r,u=arguments[0].message||u,t=arguments[0].data||t):arguments.length>1&&(n.isString(arguments[0])&&(r=String(arguments[0])),n.isString(arguments[1])&&(u=String(arguments[1])),n.isNull(arguments[2])||(t=String(arguments[2]))),i=new Error,i.name=r,i.message=u,t!=undefined&&(i.data=t),i}},v=new function(){function r(i,r){var e=new Date,a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),u=n.isDate(r)?new Date(r):i?new Date(a):new Date(e),o;if(i)if(/^\d+$/.test(i))u=new Date(parseInt(i));else if(/^([+-])(\d+|\d*\.\d*)([smhdMy])$/.test(i)){var v=RegExp.$1,h=parseFloat(RegExp.$2),c=RegExp.$3,y=t.concat("get",s[c]),p=t.concat("set",s[c]),l=Date.prototype[y].apply(u),w=v=="-"?l-h:l+h;Date.prototype[p].call(u,w)}else for(o in f)f.hasOwnProperty(o)&&new function(){var n=f[o];i=i.replace(n.regexp,function(){return u=n.handler(u,arguments),t.EMPTY})};return u}function h(i,r){return n.isDate(i)?r?String(r).replace(/yyyy/g,i.getFullYear().toString()).replace(/yy/g,i.getFullYear().toString().substring(2,4)).replace(/MMMM/g,e[i.getMonth()]).replace(/MMM/g,e[i.getMonth()].substring(0,3)).replace(/MM/g,t.padLeft(i.getMonth()+1,2,0)).replace(/M/g,(i.getMonth()+1).toString()).replace(/dd/g,t.padLeft(i.getDate(),2,0)).replace(/d/g,i.getDate().toString()).replace(/hh/g,t.padLeft(i.getHours(),2,0)).replace(/h/g,i.getHours().toString()).replace(/mm/g,t.padLeft(i.getMinutes(),2,0)).replace(/m/g,i.getMinutes().toString()).replace(/ss/g,t.padLeft(i.getSeconds(),2,0)).replace(/s/g,i.getSeconds().toString()).replace(/wwww/g,o[i.getDay()]).replace(/www/g,o[i.getDay()].substr(0,3)):c.apply(i):"NaN"}function u(t){return n.isDate(t)?t:new Date}var e=["January","February","Match","April","May","June","July","August","September","October","November","December"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={s:"Seconds",m:"Minutes",h:"Hours",d:"Date",M:"Month",y:"FullYear"},f={dayAndMonth1:{regexp:new RegExp("\\b(\\d{1,2})(-|/|\\.)(\\d{1,2})(?:\\2(\\d{2}))?\\b"),handler:function(n,t){var u=parseInt(t[1]),i=parseInt(t[3]),r=t[2];return i>12||r=="/"?(n.setDate(i),n.setMonth(u-1)):(n.setDate(u),n.setMonth(i-1)),isNaN(r)||n.setYear(Number(String((new Date).getFullYear()).substring(0,2)+String(r))),n}},dayAndMonth2:{regexp:new RegExp("(?:\\b(\\d{1,2})(?:[a-z]{2}|.|-)?\\s*)?\\b(jan|feb|mar|jun|jul|aug|sep|oct|nov|dec)(?:[a-z]+)?(?:(?:.|-)?\\s*\\b(\\d{1,2})(?:[a-z]{2}|.|-)?\\b)?","i"),handler:function(n,t){var f=t[2].toLowerCase(),e=i.inArray(f,"jan|feb|mar|jun|jul|aug|sep|oct|nov|dec".split("|")),r,u;return n.setMonth(e),r=parseInt(t[1]),u=parseInt(t[3]),isNaN(r)||n.setDate(r),isNaN(u)||n.setDate(u),n}},time:{regexp:new RegExp("(?:\\b|T)\\b(\\dd{2}):(\\d{2}):(\\d{2})\\b"),handler:function(n,t){return n.setHours(parseInt(t[1])),n.setMinutes(parseInt(t[1])),n.setSeconds(parseInt(t[1])),n}},year:{regexp:new RegExp("\\b(\\d{4})(?:\\b|T)"),handler:function(n,t){return n.setYear(parseInt(t[1])),n}},today:{regexp:new RegExp("^today$"),handler:function(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate())}}},c=Date.prototype.toString;return Date.prototype.toString=function(n){return h(this,n)},r.format=h,r.year=function(n){return u(n).getFullYear()},r.month=function(n){return u(n).getMonth()},r.day=function u(n){return u(n).getDate()},r.weekday=function(n){return u(n).getDay()},r.hours=function(n){return u(n).getHours()},r.minutes=function(n){return u(n).getMinutes()},r.seconds=function(n){return u(n).getSeconds()},r.time=function(n){return u(n).getTime()},r};Function.EMPTY=new Function,Function.NAME_EXPR=/^[\s\S$]*?function[\s\n]+(([\w.$]*)[\s\n]*\((.*)\))\W[\s\S]*$/,Function.getName=function(i,r,u){if(arguments.length==0){if(i=arguments.callee.caller,!n.isFunction(i))return null}else if(i==null||!n.isFunction(i)&&(i=i.constructor,!n.isFunction(i)))return null;var f=String(i).replace(Function.NAME_EXPR,function(){var n=arguments[2]?arguments[2]:"anonymous",i=arguments[2]?arguments[1]:[n,"(",arguments[3],")"].join(t.EMPTY);return r&&!u?i:r&&u?arguments[3]:n});return f.replace(/([\w\$])\$([\w\$])/g,"$1.$2")},Function.callerName=function(){return Function.getName(arguments.callee.caller.caller)},Function.stackTrace=function(t,i){for(var f=t||arguments.callee.caller,o=[],s=[],h=0,r;f!=null;){if(i&&h>=i)break;else if(s.contains(f))break;var c=Function.getName(f),e=[],u=f.arguments;for(r=0;r<u.length;r++)n.isFunction(u[r])&&n.isFunction(u[r].getName)?e.push(u[r].getName(!0)):n.isArray(u[r])?e.push("array[{0}]".format(u[r].length)):n.isObject(u[r])?e.push("object{..}"):n.isNull(u[r])?e.push("null"):n.isString(u[r])?e.push(u[r].length<200?'"{0}"'.format(u[r]):"[string({0})]".format(u[r].length)):u[r]==undefined?e.push("undefined"):e.push(u[r]);s.push(f),o.unshift(Function.getName(f)+"("+e.join(", ")+")");try{f=f.caller}catch(l){break}h++}return o.toString=function(n){return this.join(n||"\n")},o},Function.prototype.inherits=function(n){if(n==null||n==this||n.prototype==null)return this;e.extend.call(n,this),this.prototype.base=e.prototype.base,this.prototype.construct=e.prototype.construct},e.extend=function(t){var i,u,r;if(t==null||t==this||t.prototype==null)return t;i=this,u=n.isFunction(t)?t:t.constructor,t.prototype.__type={base:i.prototype,constructor:u};for(r in i.prototype)t.prototype.hasOwnProperty(r)||(t.prototype[r]=i.prototype[r]);return t.extend=t.extend||e.extend,t},e.prototype.construct=function(){if(this.__type!=null){this.$this=this.$this||this;var n=this.$this.__type.base.constructor;this.$this=this.$this.__type.base,n.apply(this,f.fromArguments(arguments)),delete this.$this}},e.prototype.base=function(n){if(this.__type==null)return null;for(var i=null,t=this,r=arguments.callee.caller;t.__type&&!i;)t.__type.base[n]!=r&&(i=t.__type.base[n]),t=t.__type.base;return typeof i=="function"?i.apply(this,Array.prototype.slice.call(arguments,1)):null},e.prototype.get=function(t){return arguments.length!=1||!this.hasOwnProperty(t)?undefined:n.instanceOf(this[t],o)?this[t].get():this[t]},e.prototype.set=function(t,i){arguments.length==2&&this.hasOwnProperty(t)&&(n.instanceOf(this[t],o)?i!=undefined&&this[t].set(i):this[t]=i)},o.prototype.get=function(){return this.getValue.apply(this,arguments)},o.prototype.set=function(n){this.setValue(n)},o.prototype.getValue=function(){return this.value},o.prototype.setValue=function(t){var i,r,u;switch(this.type){case Boolean:i=String(t).match(/^true|1$/)!=null;break;case Number:i=parseFloat(t)||0;break;default:i=t==null?t:String(t)}if(r=!0,this.restrictTo!=null)if(n.isArray(this.restrictTo))r=[].concat(this.restrictTo).indexOf(i)!=-1;else{r=!1;for(u in this.restrictTo)if(this.restrictTo.hasOwnProperty(u)&&this.restrictTo[u]==i){r=!0;break}}r&&(this.value=i)},o.prototype.valueOf=function(){return this.get()},o.prototype.toString=function(){return String(this.get())},u=e.extend(function(){this.__events=[],this.__listeners={};for(var n=0;n<arguments.length;n++)this.registerEvent(arguments[n])}),u.prototype.registerEvent=function(){for(var t,n=0;n<arguments.length;n++)t=arguments[n],this.hasEvent(t)||(this.__events.push(t),this.__listeners[t]=[])},u.prototype.hasEvent=function(n){return this.__events.contains(n)},u.prototype.hasListener=function(n,t){if(this.hasEvent(n))for(var i=0;i<this.__listeners[n].length;i++)if(this.__listeners[n][i]==t)return!0;return!1},u.prototype.addListener=function(n,t){return this.hasEvent(n)?this.hasListener(n,t)||this.__listeners[n].push(t):s.error("Did not add event '{0}' because the current object only supports '{1}'",n,this.__events.join(", ")),this},u.prototype.on=u.prototype.addListener,u.prototype.removeListener=function(t,i){if(this.hasEvent(t))if(n.isFunction(i)){for(var r=0;r<this.__listeners[t].length;r++)if(this.__listeners[t][r]==i)return this.__listeners[t].splice(r,1),this}else this.__listeners[t]=[];return this},u.prototype.off=u.prototype.removeListener,u.prototype.destroy=function(){for(var n in this.__listeners)this.off(n)},u.prototype.fireEvent=function(t,i){var u=null,e=null,r,f;if(n.instanceOf(t,c.Event)?(e=t.type,u=t):(i==null&&(i=this.createEventData()),e=t,u=new c.Event(this,e,i)),r=this.__listeners[e],r!=null&&r.length!=0){for(f=0;f<r.length;f++)if(n.isFunction(r[f])&&(r[f](u),u.cancel))break;return u}return null},u.prototype.fire=u.prototype.fireEvent,u.prototype.createEventData=function(){return{}},u.prototype.toString=function(){var t=[],n;for(n in this.__listeners)this.__listeners.hasOwnProperty(n)&&t.push("{0}: {1} listeners".format(n,this.__listeners[n].length));return"Dispatcher: {{0}}".format(t.join(", "))},h.inherits(e),h.prototype.getValue=function(t,i,r,u,f){var e,o,s;if(i=i&&i.jquery?i[0]:i,r=r&&r.jquery?r[0]:r,e=u,n.isElement(r)?r.getAttribute("data-"+t)?e=r.getAttribute("data-"+t):r.getAttribute(t)&&(e=r.getAttribute(t)):r&&r[t]!=undefined?e=r[t]:n.isElement(i)?i.getAttribute("data-"+t)?e=i.getAttribute("data-"+t):i.getAttribute(t)&&(e=i.getAttribute(t)):i&&i[t]!=undefined&&(e=i[t]),f!=null){o=!1;for(s in f)if(e==f[s]){o=!0;break}o||(e=u)}return e},h.prototype.getBoolean=function(n,t,i,r){var u=String(this.getValue(n,t,i,r)).toLowerCase();return u=="1"||u=="true"||u=="yes"},h.prototype.getNumber=function(t,i,r,u,f){var e=this.getValue(t,i,r,u,f);return n.isNumeric(e)?parseFloat(e):0},h.prototype.getString=function(n,t,i,r,u){var f=this.getValue(n,t,i,r,u);return f==null?null:String(f)},h.prototype.getArray=function(n,t,i,r,u){var s=this.getString(n,t,i,r,u),e,o,f;if(s==null)return[];for(e=s.split(/,/),o=[],f=0;f<e.length;f++)o.push(e[f].trim());return o},h.prototype.getFunction=function(n,t,i,u){var f=this.getValue(n,t,i,u);return r.type.isFunction(f)?f:null},h.prototype.setProperties=function(t,i){var r,u;for(r in this)this.hasOwnProperty(r)&&n.instanceOf(this[r],o)&&(u=this.getValue(r,t,i,undefined),u!=undefined&&this[r].set(u))},h.prototype.get=function(t){return n.instanceOf(this[t],o)?this[t].get():this[t]},h.prototype.set=function(t,i){return this[t]===undefined?console.warn("Current settings don't contain a property with name '{0}'.".format(t)):(n.instanceOf(this[t],o)?this[t].set(i):this[t]=i,this.get(t))},p=function(u){function c(){var n=document.createElement("div");return n.setAttribute("id",r.dom.uniqueID(n)),String(u.expression).trim().replace(/\./g," ").match(/([\w\- ]+)/)&&n.setAttribute("className",RegExp.$1),n}function o(i,r){var u,f;if(i==null)if(n.isFunction(this.createElement))i=this.createElement(r);else throw Error(t.format("No element has been provided and the control '{0}' doesn't have 'createElement' method, therefore a new element can't be created",Function.getName(this)));return u=e(i),u==null&&(f=v(i),u=new f(i,r),n.isFunction(u.init)&&u.init(),h(u)),u}function h(t){n.instanceOf(t,l)&&(t.$element.attr("id",a.uniqueID(t.$element)),u.instances.contains(t)||u.instances.push(t))}function v(n){var r=f.defaultConstructor,e=i(n),t;for(t in u.registeredConstructors)if(e.is(t)){r=u.registeredConstructors[t];break}return r}function e(t){var e,o,r,f;if(t==null||(t.jquery&&(t=t[0]),n.isString(t)&&(t=i(t)[0]),t==null))return null;for(e=n.isString(t),o=n.isElement(t),r=0;r<u.instances.length;r++)if((f=u.instances[r],o&&f.element()[0]==t)||e&&f.id()==t)return f;return null}function y(t,i){return!n.isString(t)&&!n.isFunction(i)?s.warn("Arguments expression:String and constructor:Function both need to be used"):(u.registeredConstructors[t]=i,null)}u.create=u.create||o,u.createElement=u.createElement||c,u.get=u.get||e,u.register=u.register||y,u.dispose=u.dispose||Function.EMPTY,u.start=u.start||Function.EMPTY,u.instances=[],u.registeredConstructors={},u.registerInstance=h;var f=this;f.type=u,f.defaultConstructor=u.Control||u,f.typeName=Function.getName(u),f.expression=u.expression,f.async=u.async===!0,f.getInstance=e,f.createInstance=o,this.checkType=function(n){if(f.type==n||f.defaultConstructor==n)return!0;for(var t in u.registeredConstructors)if(u.registeredConstructors[t]==n)return!0;return!1},this.redraw=function(){n.isFunction(u.redraw)&&u.redraw()},this.setup=function(n){u.setup&&u.async?u.setup(n):u.setup?(u.setup(),n()):n()},this.start=function(){u.start()},this.dispose=function(){u.dispose&&u.dispose()}},w=function(){var t=[],f=[],u=-1;this.redraw=function(){for(var n=0;n<t.length;n++)t[n].redraw()},this.register=function(i){s.assert(n.isObject(i),"Argument 'control' should either be an object that describes the control or the control itself");var r=new p(i);return t.push(r),f.push(r.expression),r.name=n.isString(i.NAME)?i.NAME:n.isFunction(i)?Function.getName(i):Function.getName(i.constructor),s.info("Registered control {0}",r.name),i},this.get=function(r,u){var e,o,f;if(r==null||(r.jquery&&(r=r[0]),n.isString(r)&&(r=i(r)[0]),r==null))return null;for(e=null,o=0;o<t.length;o++)if(f=t[o],u!=null){if(f.checkType(u)||f.typeName==u||f.expression.indexOf(u)!=-1){e=f.getInstance(r);break}}else if(e=f.getInstance(r),e!=null)break;return e},this.setup=function(i){var u,f,r,e;if(t.length==0){n.isFunction(i)&&i();return}for(u=this,f=0,r=0;r<t.length;r++)e=t[r],e.setup(function(){++f==t.length&&(u.update(),n.isFunction(i)&&i())})},this.dispose=function(){for(var n=0;n<t.length;n++)t[n].dispose()},this.start=function(){for(var n=0;n<t.length;n++)t[n].start()},this.update=function(n){var h,o,e,a;if(u++,u<10){if(h=i(f.join(", "),n||document),h.length>0)for(o=0;o<t.length;o++){var c=0,s=t[o],l=h.filter(s.expression);for(e=0;e<l.length;e++)a=s.getInstance(l[e]),a==null&&(s.createInstance(l[e],null,u),c++);c!=0&&console.log("Created {0} instance(s) of {1}".format(c,s.name))}}else r.log.warn("An attempt was made to recurse into ControlRegistry.update deeper than 10 levels. Check the code for infinite loops");u--}},l.inherits(u),l.prototype.id=function(t){return n.isString(t)&&this.$element.attr("id",t),this.$element.attr("id")},l.prototype.destroy=function(){this.base("destroy");for(var n in this)n.indexOf("$")==0&&delete this[n]},l.prototype.element=function(){return this.$element},l.prototype.toString=function(){var n=Function.getName(this.constructor);if(this.$element.length==0)return t.format("{0}(null)",n);var i=this.id(),r=this.$element.attr("class"),u=String(this.$element.prop("tagName")).toLowerCase();return t.format('{0}("{1}{2}{3}")',n,u,r?"."+r.replace(/\s+/,"."):t.EMPTY,i?"#"+i:t.EMPTY)},l.prototype.get=function(n){return this.settings===undefined?console.warn("Can't get '{0}' because the current control doesn't have an associated settings object.".format(n)):this.settings.get(n)},l.prototype.set=function(n,t){return this.settings===undefined?console.warn("Can't set '{0}' to '{1}' because the current control doesn't have an associated settings object.".format(n,t)):(this.settings.set(n,t),this.settings.get(n))},l.PROPS={VERTICAL:{scrollSize:"scrollHeight",scrollPos:"scrollTop",size:"height",outerSize:"outerHeight",position:"top"},HORIZONTAL:{scrollSize:"scrollWidth",scrollPos:"scrollLeft",size:"width",outerSize:"outerWidth",position:"left"}};var g=new function(){function n(){return arguments.length==0?(u==null&&(u=n.parseDocument(document)),u):n.computed(arguments[0])}var u=null,f={text:["font-family","font-size","font-weight","font-style","color","text-transform","text-decoration","letter-spacing","word-spacing","line-height","text-align","vertical-align","direction","column-count","column-gap","column-width"],background:["background-color","background-image","background-repeat","background-position","background-attachment","opacity"],box:["width","height","top","right","bottom","left","margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","-moz-border-top-radius","-moz-border-right-radius","-moz-border-bottom-radius","-moz-border-left-radius","outline-top-width","outline-right-width","outline-bottom-width","outline-left-width","outline-top-color","outline-right-color","outline-bottom-color","outline-left-color","outline-top-style","outline-right-style","outline-bottom-style","outline-left-style"],layout:["position","display","visibility","z-index","overflow","overflow-x","overflow-y","overflow-clip","white-space","clip","float","clear","-moz-box-sizing"],other:["cursor","list-style-image","list-style-position","list-style-type","marker-offset","user-focus","user-select","user-modify","user-input"]};return n.reset=function(){u=null},n.parseDocument=function(t){for(var f={},r,u,i=0;i<t.styleSheets.length;i++){r=n.parseStylesheet(t.styleSheets[i]);for(u in r)f[u]=r[u]}return f},n.parseStylesheet=function(n){for(var r={},i=n.rules||n.cssRules,t=0;t<i.length;t++)i[t].selectorText&&(r[i[t].selectorText]=i[t]);return r},n.computed=function(n,t){var r={},u,f,e,o;if(n&&(n=i(n)[0]),!n)return r;for(u=document.defaultView.getComputedStyle(n,null),f=0;f<u.length;f++)e=u[f],o=e.replace(/\-([a-z])/g,function(n,t){return t.toUpperCase()}),r[o]=u.getPropertyValue(e);return t?r[t]:r},n.findRules=function(t){var r=n(),u=[],f,i;if(t){f=new RegExp(t);for(i in r)r.hasOwnProperty(i)&&i.match(f)&&u.push({selector:i,css:r[i]})}return u},n.getRule=function(n){return u[n]},n.getStyle=function(i){var r=n.getRule(i);return r?r.style.cssText:t.EMPTY},n.getProperty=function(i,r){var u=n.getRule(i);return u?u.style[r]:t.EMPTY},n.copyStyles=function(t,i,u){var o,s,h,e;if(t&&t.jquery&&(t=t[0]),i&&i.jquery&&(i=i[0]),t&&i){o=n.computed(t);for(s in f)if(!u||s==u)for(h=0;h<f[s].length;h++)(e=f[s][h],o[e]!=undefined)&&(i.style[e]=o[e],r.log("{0}: {1}",e,o[e]))}},n},a=new function(){function c(n){i(n).hide()}function l(n){for(var t,f,r,s,c,u=0;u<e.length;u++)for(t=e[u],f=0;f<t.element.length;f++)if(r=t.element.eq(f),r.is(":visible")){var h=t.delay,l=i.proxy(t.hide,this,r),o=r.is(n.target)||r.has(n.target).length!=0;if(!o)for(s=0;s<t.related.length;s++)if(c=i(t.related[s]),o=c.is(n.target)||c.has(n.target).length!=0,o)break;o?h&&clearTimeout(t.delayId):h?t.delayId=setTimeout(l,h):l()}}var s={},e=[],h=!1,o={requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,cancelAnimationFrame:window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame},r=new u("selectionchange");return r.registerAutoHide=function(t){if(t){var r={element:null,delay:0,hide:c,related:[]};t.jquery?r.element=i(t):(r.element=t.element,n.isNumber(t.delay)&&(r.delay=t.delay),n.isFunction(t.hide)&&(r.hide=t.hide),n.isArray(t.related)&&(r.related=t.related)),e.push(r),h||(i(document).bind("mousedown touchstart keyup",l),h=!0)}},r.isChrome=window.navigator.userAgent.indexOf("Chrome")!=-1,r.isIE=window.navigator.userAgent.indexOf("MSIE")!=-1||window.navigator.userAgent.indexOf("Trident")!=-1,r.isTouchDevice=function(){return window.Modernizr&&Modernizr.touch!==undefined?Modernizr.touch:!!("ontouchstart"in window)||!!("onmsgesturechange"in window)},r.mouseDownEvent="mousedown",r.mouseUpEvent="mouseup",r.mouseMoveEvent="mousemove",r.fastClickEvent="click",r.isTouchDevice()&&(r.mouseDownEvent="touchstart",r.mouseUpEvent="touchend",r.mouseMoveEvent="touchmove",r.fastClickEvent="touchstart"),r.uniqueID=function(n){if(n&&n.jquery&&(n=n[0]),n==null)return null;if(t.isEmpty(n.id)){for(var i=v.time();s[i]!=null;)i++;s[i]=i,n.id="u"+i}return n.id},r.unselectable=function(){for(var e=(n in{"false":!0,off:!0}),n=e?t.EMPTY:"none",u=f.fromArguments(arguments),r=0;r<u.length;r++)i(u[r]).css({"user-select":n,"-o-user-select":n,"-moz-user-select":n,"-khtml-user-select":n,"-webkit-user-select":n,"-ms-user-select":n})},r.requestAnimationFrame=function(n){return(o.requestAnimationFrame||function(){return window.setTimeout(n,1e3/60)})(n)},r.requestInterval=function(n,t){function f(){var e=(new Date).getTime(),o=e-u;o>=t&&(n.call(),u=(new Date).getTime()),i.value=r.requestAnimationFrame(f)}if(!o.requestAnimationFrame)return window.setInterval(n,t);var u=(new Date).getTime(),i={};return i.value=r.requestAnimationFrame(f),i},r.requestTimeout=function(n,t){function u(){var e=(new Date).getTime(),o=e-f;o>=t?n.call():i.value=r.requestAnimationFrame(u)}if(!o.requestAnimationFrame)return window.setTimeout(n,t);var f=(new Date).getTime(),i={};return i.value=r.requestAnimationFrame(u),i},i.fn.unselectable=function(n){return this.each(function(){r.unselectable(n)})},r},s=new function(){function i(i){var e="log",a=arguments.length,v=1,s=a-1,c=String(arguments[s]),y,h,l;for((o.contains(c)||u.contains(c))&&(e=c,s=a-2),e!="dir"&&s>=v&&(y=f.fromArguments(arguments,v,s),i=t.format(i,y)),h=0;h<r.length;h++)l=r[h],n.isFunction(l[e])&&l[e](i)}var e={},r=[],o=["log","debug","info","warn","error","group","groupCollapsed","groupEnd"],u=[];return i.trace=function(n){var r=Function.stackTrace(arguments.callee.caller),u,t;if(arguments.length>0){for(u=f.fromArguments(arguments,1),i.group(n,u),t=0;t<r.length;t++)i.debug(r[t]);i.groupEnd()}else i(r.toString())},i.assert=function(n,t){var r=f.fromArguments(arguments,2);n===!1&&i(t,r,"error")},i.time=function(n){if(console.time){console.time.apply(console,arguments);return}n&&(e[n]=(new Date).getTime())},i.timeEnd=function(n){if(console.timeEnd){console.timeEnd.apply(console,arguments);return}e[n]&&i.info("{0}: {1}.ms",n,(new Date).getTime()-e[n])},i.clear=function(){console.clear()},i.log=function(n){i(n,f.fromArguments(arguments,1),"log")},i.debug=function(n){i(n,f.fromArguments(arguments,1),"debug")},i.groupCollapsed=function(n){i(n,f.fromArguments(arguments,1),"groupCollapsed")},i.group=function(n){i(n,f.fromArguments(arguments,1),"group")},i.groupEnd=function(){i(t.EMPTY,"groupEnd")},i.info=function(n){i(n,f.fromArguments(arguments,1),"info")},i.warn=function(n){i(n,f.fromArguments(arguments,1),"warn")},i.error=function(n){i(n,f.fromArguments(arguments,1),"error")},i.dir=function(n){i(n,f.fromArguments(arguments,1),"dir")},i.register=function(t,i){if(t==null||r.contains(t)||r.push(t),i!==!0)for(var f in t)t.hasOwnProperty(f)&&n.isFunction(t[f])&&(u.contains(f)||u.push(f))},i.unregister=function(t){var o=r.indexOf(t),i,s,e,f;if(t!=null&&o!=-1)for(r.splice(o,1),i=u.length-1;i>=0;i--){for(s=u[i],e=!0,f=0;f<r.length;f++)if(n.isFunction(r[f][s])){e=!1;break}e&&u.splice(i,1)}},i.register(window.console,!0),i},nt=new function(){function u(n,t){t=t||{},this.separator=t.separator||r.DEFAULT_SEPARATOR,this.equals=t.equals||r.DEFAULT_EQUALS,this.init(),n&&this.parse(n)}var r=function(t){var i=new u;return i.parse(n.isString(t)?t:location.href),i};return r.URL_EXPRESSION=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r.COMPONENT_NAMES=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","hash"],r.PROTOCOL_SEPARATOR="://",r.EMPTY_HASH="!",r.DEFAULT_SEPARATOR="&",r.DEFAULT_EQUALS="=",u.prototype.init=function(){return this.components={source:t.EMPTY,protocol:t.EMPTY,authority:t.EMPTY,userInfo:t.EMPTY,user:t.EMPTY,password:t.EMPTY,host:t.EMPTY,port:t.EMPTY,relative:t.EMPTY,path:t.EMPTY,directory:t.EMPTY,file:t.EMPTY,query:t.EMPTY,hash:t.EMPTY},this.hashParam={},this.queryParam={},this},u.prototype.qualify=function(n){return n?n.indexOf("//")!=-1?n:n.indexOf("/")==0?[this.components.protocol,r.PROTOCOL_SEPARATOR,this.components.authority,n].join(t.EMPTY):[this.components.protocol,r.PROTOCOL_SEPARATOR,this.components.authority,this.components.directory,n].join(t.EMPTY):t.EMPTY},u.prototype.getHash=function(n){return r.serializeParams(this.hashParam,{prefix:n||t.EMPTY})},u.prototype.getQuery=function(n){return r.serializeParams(this.queryParam,{prefix:n||t.EMPTY})},u.prototype.getQueryParam=function(n){return this.queryParam[n]},u.prototype.getHashParam=function(n){return this.hashParam[n]},u.prototype.setQueryParam=function(n,t){return this.queryParam[n]=t,this},u.prototype.setHashParam=function(n,t){return this.hashParam[n]=t,this},u.prototype.removeQueryParam=function(n){return delete this.queryParam[n],this},u.prototype.removeHashParam=function(n){return delete this.hashParam[n],this},u.prototype.parse=function(n){var f,i,u,e;if(n==null)return this;for(f=r.URL_EXPRESSION.exec(n),i=r.COMPONENT_NAMES.length-1;i>0;i--)this.components[r.COMPONENT_NAMES[i]]=f[i]||t.EMPTY;return u=this.components.hash,e=this.components.query,u.indexOf("!")==0&&(u=u.substring(1)),this.hashParam=r.parseQuery(u),this.queryParam=r.parseQuery(e),this},u.prototype.toString=function(){var n=this.components.protocol?t.concat(this.components.protocol,r.PROTOCOL_SEPARATOR):t.EMPTY;return t.concat(n,this.components.authority,this.components.path,r.serializeParams(this.queryParam,{prefix:"?",encode:!0}),r.serializeParams(this.hashParam,{prefix:"#",encode:!1}))},r.combine=function(n,i){for(var r=t.concat(n,"/",i);r.match(/[^\/]+\/\.\.\//);)r=r.replace(/[^\/]+\/\.\.\//,"");return r.replace(/\/{2,}/g,"/")},r.getQueryParam=function(n,t){return r().getQueryParam(n)||t},r.getHashParam=function(n,t){return r().getHashParam(n)||t},r.getHash=function(){return String(location.hash).substring(1)},r.getQuery=function(){return String(location.search).substring(1)},r.setHashParam=function(){var i=r(location.href),u;if(arguments.length==2)i.setHashParam(arguments[0],arguments[1]);else if(arguments.length==1)if(n.isObject(arguments[0]))for(u in arguments[0])arguments[0].hasOwnProperty(u)&&i.setHashParam(u,arguments[0][u]);else i.setHashParam(arguments[0],t.EMPTY);else return;r.setHash(i.getHash())},r.setHash=function(n){n==t.EMPTY&&(n=r.EMPTY_HASH),window.location.hash=n},r.removeHashParam=function(n){var t=r(location);t.removeHashParam(n),r.setHash(t.getHash())},r.getFileExtension=function(n){var t=n?n.lastIndexOf("."):-1;return t>-1?n.slice(t+1):""},r.getFileName=function(n){return String(n).match(/[^\\\/]*$/)[0]},r.parseQuery=function(u,f){var s;if(!u)return{};var c=i.extend({separator:r.DEFAULT_SEPARATOR,equals:r.DEFAULT_EQUALS},f||{}),h=String(u).split(c.separator),e={};for(s=0;s<h.length;s++)if(h[s].length!=0){var l=h[s].split(c.equals),o=l[0],a=l[1]||t.EMPTY;e[o]!=null?(n.isArray(e[o])||(e[o]=[e[o]]),e[o].push(a)):e[o]=a}return e},r.serializeParams=function(n,u){var f,o,e,h,c,s;if(n==null)return null;f=i.extend({separator:r.DEFAULT_SEPARATOR,equals:r.DEFAULT_EQUALS,encode:!1},u||{}),o=[];for(e in n)n.hasOwnProperty(e)&&(h=f.encode?encodeURIComponent(e):e,c=f.encode?encodeURIComponent(n[e]||t.EMPTY):n[e],c?o.push(h+f.equals+c):o.push(h));return(s=o.join(f.separator),f.prefix&&s.length)?t.concat(f.prefix,s):s},r.qualify=function(n){var t=i("base[href]").attr("href")||document.location.href;return r(t).qualify(n)},r},tt=new function(){function t(n,t,r,u,f,e){var o=n+"="+encodeURIComponent(t);return r&&(o+="; expires="+v(r).toGMTString()),u&&(o+="; domain="+u),f&&(o+="; path="+f),e&&(o+="; secure=true"),document.cookie=o,i(n)}function i(n){for(var i=document.cookie.split("; "),s,r,f,e,u,o,t=0;t<i.length;t++)if(s=i[t].substring(0,i[t].indexOf("=")),r=i[t].substring(i[t].indexOf("=")+1,i[t].length),s==n){if(r.indexOf("&")!=-1){for(f=r.split("&"),e={},u=0;u<f.length;u++)o=f[u].split("="),e[o[0]]=o[1];return e}return decodeURIComponent(r)}return null}function r(n){var t=n?n+"=null;":"null;";document.cookie=t+"expires="+(new Date).toGMTString()}function n(){return arguments.length==0?String(document.cookie):arguments.length==1?Cookie.get.apply(this,arguments):t.apply(this,arguments)}return n.get=i,n.set=t,n.remove=r,n},it=new function(){function h(n){var t={name:"XML Parse Error",error:!1,data:{line:1,column:0}},i,u;if(a.isIE?n.parseError!=0&&(t.error=!0,t.message=n.parseError.reason,n.parseError.line&&(t.data.line=n.parseError.line),n.parseError.column&&(t.data.column=n.parseError.column)):(i=n.getElementsByTagNameNS(e,"parsererror")[0],i!=null&&(u=r.text(i).replace(/line(?: number)? (\d+)(?:,)?(?: at)? column (\d+):/i,function(n,i,r){return t.line=parseInt(i),t.column=parseInt(r),n+"\n"}),t.error=!0,t.message=u)),t.error==!0)throw error(t);}function p(){if(f==null){f=new DOMParser;try{e=f.parseFromString("INVALID XML","text/xml").getElementsByTagName("*")[0].namespaceURI}catch(n){o=!0}}return f}var f,e,o=!1,c=document.implementation,l=window.XMLSerializer!=null,v="http://www.w3.org/1999/xhtml",y=5,u={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},r=function r(t){return n.isNode(t)?t:n.isString(t)&&t.trim().indexOf("<")==0?r.document(t):null};return r.text=function(){for(var h=t.EMPTY,s=null,l={},e,c,o,i,f=0;f<3;f++){if(arguments.length<f+1)break;e=arguments[f],n.isNode(e)?s=e:n.isString(e)?h=e:n.isObject(e)&&(l=e)}if(c=[],h==t.EMPTY&&s==null)return null;for(c=h==t.EMPTY&&s!=null?[s]:r.select(h,s||document,l),o=[],f=0;f<c.length;f++){i=c[f],i.nodeType==u.DOCUMENT&&(i=i.documentElement);switch(i.nodeType){case u.TEXT:case u.COMMENT:o.push(i.nodeValue);break;default:i.value!=null?o.push(i.value):i.textContent!=null?o.push(i.textContent):i.text!=null?o.push(i.text):o.push(i.innerText)}}return o.join(t.EMPTY)},r.toXml=function(t){return(n.isString(t)&&(t=r.select(t)[0]),a.isIE)?t.xml:t==document||t.ownerDocument==document?r.serialize(t):(new XMLSerializer).serializeToString(Node(t))},r.serialize=function(n){var i,s,o,f,h,c,e;if(n==null||n.nodeType==null)return t.EMPTY;if(n.nodeType==u.DOCUMENT)return r.serialize(n.documentElement);if(i=[],s=!1,n.nodeType==u.ELEMENT){for(o=n.nodeName,n.namespaceURI==v&&(o=o.toLowerCase(),s=!0),i.push("<"),i.push(o),f=0;f<n.attributes.length;f++)(h=n.attributes[f].name,c=n.getAttribute(h),h=="xmlns"&&s)||(i.push(" "),i.push(n.attributes[f].name),i.push('="'),i.push(r.escape(c,!0)),i.push('"'));if(n.childNodes.length==0)i.push("/>");else{for(i.push(">"),f=0;f<n.childNodes.length;f++)e=n.childNodes[f],e.nodeType==u.ELEMENT&&i.push(r.serialize(e)),e.nodeType==u.COMMENT&&(i.push("<!--"),i.push(r.text(e)),i.push("-->")),e.nodeType==u.CDATA_SECTION&&(i.push("<![CDATA["),i.push(r.text(e)),i.push("]\]>")),e.nodeType==u.TEXT&&i.push(r.escape(r.text(e)));i.push("<\/"),i.push(o),i.push(">")}}return i.join(t.EMPTY)},r.toObject=function(i){var e,h,o,f,s;if(i==null||i.nodeType==null)return null;if(e={},i.nodeType==u.DOCUMENT)h=i.documentElement.nodeName,e[h]=r.toObject(i.documentElement);else if(i.nodeType==u.ELEMENT){for(o=0;o<i.attributes.length;o++)e[i.attributes[o].name]=i.getAttribute(i.attributes[o].name);for(o=0;o<i.childNodes.length;o++)f=i.childNodes[o],f.nodeType==u.ELEMENT&&(s=r.toObject(f),e[f.nodeName]!=null?(n.isArray(e[f.nodeName])||(e[f.nodeName]=[e[f.nodeName]]),e[f.nodeName].push(s)):e[f.nodeName]=s),f.nodeType==u.TEXT&&f.nodeValue.trim()!=t.EMPTY&&(e.$text=f.nodeValue)}return e},r.resolver=function(t){return s.assert(n.isObject(t),"Argument 'namespaces' should be an object"),function(n){return t[n]}},r.select=function(t,i,f){var o,s,e;if(arguments.length==2&&n.isString(arguments[1])&&(t=arguments[0],f=arguments[1]),n.isNode(i)||(i=document),o=i.nodeType==u.DOCUMENT?i:i.ownerDocument,a.isIE){s=[];for(e in f)f.hasOwnProperty(e)&&s.push('xmlns:{0}="{1}"'.format(e,f[e]));return o.setProperty("SelectionNamespaces",s.join(" ")),i.selectNodes(t)}for(var v=f?r.resolver(f):null,c=o.evaluate(t,i,v,y,null),h=c.iterateNext(),l=[];h;)l.push(h),h=c.iterateNext();return l},r.load=function(t,u,f){return s.assert(n.isString(t),"Argument 'url' is required"),i.ajax(t,{complete:function(t){var i;try{i=r.document(t.responseText),n.isFunction(u)&&u(i)}catch(e){if(n.isFunction(f))f(e);else throw e;}},error:function(t,i,r){n.isFunction(f)&&f(r)}})},r.document=function(i){n.isDocument(i)&&(i=r.serialize(i));var u=null;return a.isIE?(u=new ActiveXObject("MSXML2.DomDocument"),i&&(u.loadXML(i),h(u))):l&&(n.isString(i)?(u=p().parseFromString(i,"text/xml"),o||h(u)):u=c.createDocument(t.EMPTY,t.EMPTY,null)),u},r.processor=function(n){var t,u,i;return(n=r(n),n==null)?null:(t=null,a.isIE?(u=r.document(n.xml),i=new ActiveXObject("MSXML2.XslTemplate"),i.stylesheet=u,t=i.createProcessor()):(t=new XSLTProcessor,t.importStylesheet(n)),t)},r.transform=function(t,i){s.assert(n.isDocument(t),"Argument 'document' should be a document."),s.assert(!n.isNull(i),"Argument 'xslProcessor' is required");var u=null;return a.isIE?(u=r.document(),i.input=t,i.output=u,i.transform()):u=i.transformToDocument(t),u},r.escape=function(n,t){var i=String(n).replace(/&(?!amp;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return t&&(i=i.replace(/\"/g,"&quot;")),i},r.nodeType=u,r},b=u.extend(function(t){function e(){u+=1,f.fire("setup",{total:r.length,current:u}),u==r.length&&o()}function o(){f.fire("done"),n.isFunction(t)&&t()}this.construct("setup","done");var f=this,r=[],u=0;this.register=function(t,u){return s.assert(n.isObject(t),"Argument 'module' is required"),s.assert(n.isFunction(t.setup),"The 'module' argument must have a 'setup' method"),r.push({setup:i.proxy(t.setup,t),dispose:i.proxy(t.dispose,t),async:u||!1}),s.info("Registered module {0}",n.isFunction(t)?Function.getName(t):Function.getName(t.constructor)),t},this.setup=function(){var n,t;if(r.length==0)o();else for(u=0,n=0;n<r.length;n++)t=r[n],t.async?t.setup(e):(t.setup(),e())},this.dispose=function(){for(var t,n=0;n<r.length;n++)t=r[n],t.dispose&&t.dispose()}}),rt=new function(){this.Key={TAB:9,CONTROL:17,SHIFT:16,ALT:18,ENTER:13,UP:38,DOWN:40,LEFT:37,RIGHT:39,DELETE:46,BACKSPACE:8,ESCAPE:27}},c=new function(){function t(n){return n||window.event}var u,f=!0;return t.stopPropagation=function(n){n.stopPropagation()},t.preventDefault=function(n){return n=t(n),n.preventDefault&&n.preventDefault(),!1},t.x=function(t){t=t.originalEvent||t;var i=0;return n.isNumber(t.pageX)?i=t.pageX:n.isNumber(t.clientX)&&(i=t.clientX),t.touches&&t.touches.length&&(i=t.touches[0].clientX),i},t.y=function(t){t=t.originalEvent||t;var i=0;return n.isNumber(t.pageY)?i=t.pageY:n.isNumber(t.clientY)&&(i=t.clientY),t.touches&&t.touches.length&&(i=t.touches[0].clientY),i},t.capture=function(n,t,i){n.addEventListener(t,i,!0)},t.release=function(n,t,i){n.removeEventListener(t,i,!0)},t.getNormalizedWheelDelta=function(n,t){var i,r,e,o,s;return(t=t.originalEvent||t,i={delta:0,deltaX:0,deltaY:0},r=0,"detail"in t&&(i.deltaY=t.detail*-1),"wheelDelta"in t&&(i.deltaY=t.wheelDelta),"wheelDeltaY"in t&&(i.deltaY=t.wheelDeltaY),"wheelDeltaX"in t&&(i.deltaX=t.wheelDeltaX*-1),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(i.deltaX=i.deltaY*-1,i.deltaY=0),i.delta=i.deltaY===0?i.deltaX:i.deltaY,"deltaY"in t&&(i.deltaY=t.deltaY*-1,i.delta=i.deltaY),"deltaX"in t&&(i.deltaX=t.deltaX,i.deltaY===0&&(i.delta=i.deltaX*-1)),i.deltaY===0&&i.deltaX===0)?i:(t.deltaMode===1?(e=n.lineHeight(),i.delta*=e,i.deltaY*=e,i.deltaX*=e):t.deltaMode===2&&(o=n.height(),i.delta*=o,i.deltaY*=o,i.deltaX*=o),s=f&&t.type==="mousewheel"&&r%120==0,r=Math.max(Math.abs(i.deltaY),Math.abs(i.deltaX)),(!u||r<u)&&(u=r,s&&(u/=40)),s&&(i.delta/=40,i.deltaX/=40,i.deltaY/=40),i.delta=Math[i.delta>=1?"floor":"ceil"](i.delta/u),i.deltaX=Math[i.deltaX>=1?"floor":"ceil"](i.deltaX/u),i.deltaY=Math[i.deltaY>=1?"floor":"ceil"](i.deltaY/u),i)},i.fn.wheelDelta=function(n){return t.getNormalizedWheelDelta(this,n)},i.fn.lineHeight=function(){var n=this["offsetParent"in i.fn?"offsetParent":"parent"]();return n.length==0&&(n=i("body")),parseInt(n.css("fontSize"))||parseInt(this.css("fontSize"))||16},i.fn.capture=function(i,r){if(!n.isString(i)||!n.isFunction(r))return this;var u=i.split(/(?:\s+)|,/);return this.each(function(n,i){for(var f=0;f<u.length;f++)t.capture(i,u[f],r)}),this},i.fn.release=function(i,r){if(!n.isString(i)||!n.isFunction(r))return this;var u=i.split(/(?:\s+)|,/);return this.each(function(n,i){for(var f=0;f<u.length;f++)t.release(i,u[f],r)}),this},t.isMouseInRange=function(n,t){var u;if(!r.drag.active){if(u=i(t),u.width()==0||u.height()==0)return!1;var f=u.offset(),e=n.clientX+i(document).scrollLeft(),o=n.clientY+i(document).scrollTop();return e>=f.left&&e<=f.left+u.width()&&o>=f.top&&o<=f.top+u.height()}},t.cancel=function(n){return n=t(n),n!=null&&(n.cancelBubble=!0,n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation()),!1},t.create=function(n,i,r){return new t.Event(n,i,r)},t.Event=function(n,t,i){this.source=n,this.type=t,this.name=t,this.cancel=!1,this.data={};for(var r in i)i.hasOwnProperty(r)&&(this.data[r]=i[r])},t.transitionEnd="transitionend webkitTransitionEnd",t},ut=new function(){function o(i){var r=c.create(t,"stop",{specs:n});r.target=f[0],r.originalEvent=i,t.active=!1,t.fire(r),document.removeEventListener("mousemove",s,!0),document.removeEventListener("touchmove",s,!0),document.removeEventListener("mouseup",o,!0),document.removeEventListener("touchend",o,!0),w(),f=null}function s(i){var v=c.x(i),w=c.y(i),b=v-h,k=w-l,o=Math.max(Math.min(n.maxX,a+b),n.minX),s=Math.max(Math.min(n.maxY,y+k),n.minY),r,e,u;return t.__listeners.beforemove.length&&(r=c.create(t,"beforemove"),r.target=f[0],n.moveX&&(r.data.targetX=o),n.moveY&&(r.data.targetY=s),t.fire(r),o=r.data.targetX,s=r.data.targetY),e=f.position(),n.moveX&&f.css("left",o),n.moveY&&f.css("top",s),u=f.position(),(u.left!=e.left||u.top!=e.top)&&(r=c.create(t,"move",u),r.target=f[0],t.fire(r)),n.accelX=u.left-e.left,n.accelY=u.top-e.top,p(),c.cancel(i)}function d(){var n=i("iframe");n.length>0&&(w(),n.each(function(n,t){if(t.offsetHeight>0){var i=document.createElement("div");i.iframe=t,i.style.cssText=b,i.className=k,document.body.appendChild(i),e.push(i)}}),p())}function p(){for(var n,r,t=e.length-1;t>=0;t--)n=e[t],r=i(n.iframe).offset(),n.style.left=r.left+"px",n.style.top=r.top+"px",n.style.width=n.iframe.offsetWidth+"px",n.style.height=n.iframe.offsetHeight+"px"}function w(){for(var n=e.length-1;n>=0;n--)e[n].parentNode.removeChild(e[n]),e.pop()}function g(n){var u=i(this),t=u.data("options"),f=t.target;r.drag.start(n,f,t)}var n={},h,l,a,y,f=null,b="position: absolute; background: #fff; opacity: .01; z-index:10000;",k="drag-overlay-"+v.time(),e=[],t=new u("start","beforemove","move","stop");return t.active=!1,t.start=function(r,u,e){var p=r||window.event,v,w;return p==null?!0:(p.originalEvent&&(p=p.originalEvent),f=i(u),f.length==0)?!0:(e==null&&(e={}),n.moveX=e.moveX!==!1,n.moveY=e.moveY!==!1,n.accelX=0,n.accelY=0,!n.moveX&&!n.moveY)?!0:(n.minX=isNaN(e.minX)?Number.NEGATIVE_INFINITY:e.minX,n.maxX=isNaN(e.maxX)?Number.POSITIVE_INFINITY:e.maxX,n.minY=isNaN(e.minY)?Number.NEGATIVE_INFINITY:e.minY,n.maxY=isNaN(e.maxY)?Number.POSITIVE_INFINITY:e.maxY,h=c.x(r),l=c.y(r),v=f.position(),w=f.offset(),a=isNaN(v.left)?w.left:v.left,y=isNaN(v.top)?w.top:v.top,i(document).capture("mouseup touchend",o),i(document).capture("mousemove touchmove",s),d(),t.active=!0,t.fire("start"),c.cancel(r))},i.fn.draggable=function(n){return this.each(function(t,r){var e=i.extend({target:r},n),f=i(r),u=f.find(".handle");u.length==0&&(u=f),u.on("mousedown",g).data("options",e)}),this},t},y=new function(){var t,i;this.easeNone=function(n,t,i,r){return i*n/r+t},this.easeIn=function(n,t,i,r){return i*n/r+t},this.easeOut=function(n,t,i,r){return i*n/r+t},this.easeInOut=function(n,t,i,r){return i*n/r+t},this.easeInQuad=function(n,t,i,r){return i*(n/=r)*n+t},this.easeOutQuad=function(n,t,i,r){return-i*(n/=r)*(n-2)+t},this.easeInOutQuad=function(n,t,i,r){return(n/=r/2)<1?i/2*n*n+t:-i/2*(--n*(n-2)-1)+t},this.easeInCubic=function(n,t,i,r){return i*(n/=r)*n*n+t},this.easeOutCubic=function(n,t,i,r){return i*((n=n/r-1)*n*n+1)+t},this.easeInOutCubic=function(n,t,i,r){return(n/=r/2)<1?i/2*n*n*n+t:i/2*((n-=2)*n*n+2)+t},this.easeInQuart=function(n,t,i,r){return i*(n/=r)*n*n*n+t},this.easeOutQuart=function(n,t,i,r){return-i*((n=n/r-1)*n*n*n-1)+t},this.easeInOutQuart=function(n,t,i,r){return(n/=r/2)<1?i/2*n*n*n*n+t:-i/2*((n-=2)*n*n*n-2)+t},this.easeInQuint=function(n,t,i,r){return i*(n/=r)*n*n*n*n+t},this.easeOutQuint=function(n,t,i,r){return i*((n=n/r-1)*n*n*n*n+1)+t},this.easeInOutQuint=function(n,t,i,r){return(n/=r/2)<1?i/2*n*n*n*n*n+t:i/2*((n-=2)*n*n*n*n+2)+t},this.easeInExpo=function(n,t,i,r){return n==0?t:i*Math.pow(2,10*(n/r-1))+t},this.easeOutExpo=function(n,t,i,r){return n==r?t+i:i*(-Math.pow(2,-10*n/r)+1)+t},this.easeInOutExpo=function(n,t,i,r){return n==0?t:n==r?t+i:(n/=r/2)<1?i/2*Math.pow(2,10*(n-1))+t:i/2*(-Math.pow(2,-10*--n)+2)+t},this.easeInSine=function(n,t,i,r){return-i*Math.cos(n/r*(Math.PI/2))+i+t},this.easeOutSine=function(n,t,i,r){return i*Math.sin(n/r*(Math.PI/2))+t},this.easeInOutSine=function(n,t,i,r){return-i/2*(Math.cos(Math.PI*n/r)-1)+t},this.easeInCirc=function(n,t,i,r){return-i*(Math.sqrt(1-(n/=r)*n)-1)+t},this.easeOutCirc=function(n,t,i,r){return i*Math.sqrt(1-(n=n/r-1)*n)+t},this.easeInOutCirc=function(n,t,i,r){return(n/=r/2)<1?-i/2*(Math.sqrt(1-n*n)-1)+t:i/2*(Math.sqrt(1-(n-=2)*n)+1)+t},this.easeInBack=function(n,t,i,r,u){return u==undefined&&(u=1.70158),i*(n/=r)*n*((u+1)*n-u)+t},this.easeOutBack=function(n,t,i,r,u){return u==undefined&&(u=1.70158),i*((n=n/r-1)*n*((u+1)*n+u)+1)+t},this.easeInOutBack=function(n,t,i,r,u){return(u==undefined&&(u=1.70158),(n/=r/2)<1)?i/2*n*n*(((u*=1.525)+1)*n-u)+t:i/2*((n-=2)*n*(((u*=1.525)+1)*n+u)+2)+t},this.easeInElastic=function(n,t,i,r,u,f){var e;return n==0?t:(n/=r)==1?t+i:(f||(f=r*.3),!u||u<Math.abs(i)?(u=i,e=f/4):e=f/(2*Math.PI)*Math.asin(i/u),-(u*Math.pow(2,10*(n-=1))*Math.sin((n*r-e)*2*Math.PI/f))+t)},this.easeOutElastic=function(n,t,i,r,u,f){var e;return n==0?t:(n/=r)==1?t+i:(f||(f=r*.3),!u||u<Math.abs(i)?(u=i,e=f/4):e=f/(2*Math.PI)*Math.asin(i/u),u*Math.pow(2,-10*n)*Math.sin((n*r-e)*2*Math.PI/f)+i+t)},this.easeInOutElastic=function(n,t,i,r,u,f){var e;return n==0?t:(n/=r/2)==2?t+i:(f||(f=r*.3*1.5),!u||u<Math.abs(i)?(u=i,e=f/4):e=f/(2*Math.PI)*Math.asin(i/u),n<1)?-.5*u*Math.pow(2,10*(n-=1))*Math.sin((n*r-e)*2*Math.PI/f)+t:u*Math.pow(2,-10*(n-=1))*Math.sin((n*r-e)*2*Math.PI/f)*.5+i+t},this.easeInBounce=function(n,t,i,r){return(n/=r)<1/2.75?i*7.5625*n*n+t:n<2/2.75?i*(7.5625*(n-=1.5/2.75)*n+.75)+t:n<2.5/2.75?i*(7.5625*(n-=2.25/2.75)*n+.9375)+t:i*(7.5625*(n-=2.625/2.75)*n+.984375)+t},this.easeOutBounce=function(n,t,i,r){return i-this.easeOut(r-n,0,i,r)+t},this.easeInOutBounce=function(n,t,i,r){return n<r/2?this.easeIn(n*2,0,i,r)*.5+t:this.easeOut(n*2-r,0,i,r)*.5+i*.5+t},this.sineLinear=function(n,t,i,r,u){r=r/1e3,n=1e3-n;var f=u*Math.sin(r*n);return s("Y: {0} * Math.sin(({1} * {2})) = {3}",u,r,n,f),f},t={};for(i in this)this.hasOwnProperty(i)&&n.isFunction(this[i])&&(t[i]=function(){var n=arguments.callee.fx;return n.apply(this,f.fromArguments(arguments,1))},t[i].fx=this[i]);t.def="easeOutQuad",t.swing=function(n,t,i,r,u){return jQuery.easing[jQuery.easing.def](n,t,i,r,u)},jQuery.extend(jQuery.easing,t)},ft=new function(){function h(){function r(){n.effect.init&&n.effect.init(i,n),i.fireEvent("start"),i.animating=!0,u(f(o,i))}var i=this,n=this.__transition,e;n.effect=t.Transitions[n.effect]||t.Transitions.horizontalOpen,n.easingFx=y[n.easing]||y.easeOutQuad,n.from=this.cloneCurrent(),n.to instanceof Image?r():(e=n.to,n.to=new Image,n.to.onload=r,n.to.src=e)}function c(n){function i(){t.$image2.attr("src",n.to.src),t.$image2.css({opacity:0,display:"block"}),t.$image2.animate({opacity:1}),t.$element.animate({opacity:0},{duration:n.duration,easing:n.easing,progress:function(n,i){t.fireEvent("progress",{progress:i})},complete:function(){var n=t.$image2,i=t.$element;t.$element.hide().addClass("image2"),t.$image2.removeClass("image2"),t.$element=n,t.$image2=i,t.fireEvent("done")}}),t.fireEvent("start")}var t=this;n.to instanceof Image?i():(n.to=new Image,n.to.onload=i,n.to.src=src)}function o(){var t=v.time(),n=this.__transition,i=n.easingFx(t-n.start,0,1,n.duration);if(t>=n.end)return this.clear(),this.fireEvent("done"),this.animating=!1,this.drawImage(n.to);n.effect.render(this,n,i),this.fireEvent("progress",{progress:i}),u(f(o,this))}function t(n){return new r(n)}function a(){var n=document.createElement("canvas");return!(n==null||n.getContext==null||n.getContext("2d")==null)}var r=l.extend(function(n){var o,f,t,r,s,u,e;if(this.construct(n,"start","progress","done"),o=a(),o)f=this.$element.prop("tagName"),f=="CANVAS"?this.canvas=this.$element[0]:(t=this.$element.parent().find("canvas")[0],t==null&&(t=document.createElement("canvas"),t.width=this.$element.width(),t.height=this.$element.height(),this.$element.parent().append(t)),f=="IMG"&&(r=new Image,s=this,r.onload=function(){(t.width==0||t.height==0)&&(t.width=r.width,t.height=r.height);var n=t.getContext("2d");n.drawImage(r,0,0,t.width,t.height)},r.src=this.$element.prop("src")),this.canvas=t,this.context=t.getContext("2d"),this.$element.hide());else{for(this.$image2=i("<img/>"),u=0;u<this.$element[0].attributes.length;u++)e=this.$element[0].attributes[u],this.$image2.attr(e.name,e.value);this.$image2.hide(),this.$image2.addClass("image2"),this.$element.parent().append(this.$image2)}}),s,u,f;return r.prototype.drawImage=function(n){return this.clear(),this.context.drawImage(n,0,0,this.canvas.width,this.canvas.width*n.height/n.width)},r.prototype.cloneCurrent=function(){var n=document.createElement("canvas");return n.width=this.canvas.width,n.height=this.canvas.height,n.getContext("2d").drawImage(this.canvas,0,0,n.width,n.height),n},r.prototype.clear=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},r.prototype.transition=function(n){var r=this.__transition=i.extend(t.transitionDefaults,n);if(r.start)this.on("start",r.start);if(r.progress)this.on("progress",r.progress);if(r.done)this.on("done",r.done);r.start=v.time(),r.end=r.start+r.duration,this.canvas!=null?h.call(this,n):c.call(this,n)},t.getData=function(n){var t=document.createElement("canvas"),i,r;return t.width=n.width,t.height=n.height,i=t.getContext("2d"),i.drawImage(n,0,0,t.width,t.height),r=i.getImageData(0,0,t.width,t.height),t=null,i=null,r},t.transitionDefaults={duration:1e3,transition:"horizontalOpen",easing:"easeOutExpo"},s=new function(){var u=e.extend(function(t){t&&n.isFunction(t.init)&&(this.init=t.init),t&&n.isFunction(t.render)&&(this.render=t.render)}),r;u.prototype.init=function(n,t){this.options=i.extend({},t.options)},u.prototype.render=function(){},r=e.extend(function(n){this.clipFunction=n}),r.prototype.render=function(n,t,i){var u=n.canvas,r=n.canvas.getContext("2d");n.drawImage(t.from),r.save(),r.beginPath(),this.clipFunction(r,u.width,u.height,i),r.clip(),n.drawImage(t.to),r.restore()},this.clock=new r(function(n,t,i,r){return n.moveTo(t/2,i/2),n.arc(t/2,i/2,Math.max(t,i),0,Math.PI*2*r,!1)}),this.circle=new r(function(n,t,i,r){return n.arc(t/2,i/2,.6*r*Math.max(t,i),0,Math.PI*2,!1)}),this.diamond=new r(function(n,t,i,r){var e,o,u,f;return f=t/2,u=i/2,e=r*i,o=r*t,n.moveTo(f,u-e),n.lineTo(f+o,u),n.lineTo(f,u+e),n.lineTo(f-o,u)}),this.verticalOpen=new r(function(n,t,i,r){var e,s,u,f,c,o,p,l,a,h,v,y;for(f=8,o=i/(2*f),a=o,c=r*t/2,h=t/2-c,v=t/2+c,p=h-a,l=v+a,n.moveTo(h,0),u=0;0<=f?u<=f:u>=f;0<=f?u++:u--)e=2*u*o,s=e+o,n.lineTo(p,e),n.lineTo(h,s);for(n.lineTo(l,i),y=[],u=f;f<=0?u<=0:u>=0;f<=0?u++:u--)e=2*u*o,s=e-o,n.lineTo(v,e),y.push(n.lineTo(l,s));return y}),this.horizontalOpen=new r(function(){return context.rect(0,(1-progress)*height/2,width,height*progress)}),this.horizontalSunblind=new r(function(n,t,i,r){var u,e,f,o;for(r=1-(1-r)*(1-r),f=6,e=i/f,o=[],u=0;0<=f?u<=f:u>=f;0<=f?u++:u--)o.push(n.rect(0,e*u,t,e*r));return o}),this.verticalSunblind=new r(function(n,t,i,r){var u,e,f,s,o;for(r=1-(1-r)*(1-r),f=10,e=t/f,o=[],u=0;0<=f?u<=f:u>=f;0<=f?u++:u--)s=Math.max(0,Math.min(2*r-(u+1)/f,1)),o.push(n.rect(e*u,0,e*s,i));return o}),this.circles=new r(function(n,t,i,r){var h,c,f,u,s,l,v,p,y,e,o,a;for(u=6,f=Math.floor(u*t/i),c=t/f,h=i/u,p=Math.max(t,i),v=.7*Math.max(c,h),a=[],e=0;0<=f?e<=f:e>=f;0<=f?e++:e--)a.push(function(){var i;for(i=[],o=0;0<=u?o<=u:o>=u;0<=u?o++:o--)s=(e+.5)*c,l=(o+.5)*h,y=Math.max(0,Math.min(2*r-s/t,1))*v,n.moveTo(s,l),i.push(n.arc(s,l,y,0,Math.PI*2,!1));return i}());return a}),this.squares=new r(function(n,t,i,r){var s,h,f,u,c,l,a,v,y,e,o,p;for(r=1-(1-r)*(1-r),u=5,f=Math.floor(u*t/i),h=t/f,s=i/u,p=[],e=0;0<=f?e<=f:e>=f;0<=f?e++:e--)p.push(function(){var f;for(f=[],o=0;0<=u?o<=u:o>=u;0<=u?o++:o--)v=h*e,y=s*o,c=Math.max(0,Math.min(3*r-v/t-y/i,1)),a=h*c,l=s*c,f.push(n.rect(v-a/2,y-l/2,a,l));return f}());return p}),this.fadeLeft=new u({init:function(n,r){var f,u;for(this.options=i.extend({direction:"right"},r.options),r.randomTrait=[],r.fromData=t.getData(r.from),r.toData=t.getData(r.to),r.output=n.context.createImageData(n.canvas.width,n.canvas.height),f=n.canvas.height,u=0;0<=f?u<=f:u>=f;0<=f?u++:u--)r.randomTrait[u]=Math.random()},render:function(n,t,i){for(var s=150,b=n.canvas.height,o=n.canvas.width,v=t.fromData.data,y=t.toData.data,h=t.output.data,p=o*i/s,c,u,f,e,r=0;r<o;++r)for(c=r/s,u=0;u<n.canvas.height;++u){var l=(u*o+r)*4,a=Math.min(Math.max(c-p*(1+t.randomTrait[u]/10),0),1),w=1-a;for(f=0;f<3;++f)e=l+f,h[e]=a*v[e]+w*y[e];h[l+3]=255}return n.context.putImageData(t.output,0,0)}})},t.Transitions=s,u=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)},f=function(n,t){return function(){return n.apply(t,arguments)}},t};(function(n){n.fn.hasAttr=function(n){return this.length==0?!1:this[0].attributes[n]!=undefined}})(jQuery),r.Prototype=e,r.Property=o,r.Dispatcher=u,r.Settings=h,r.Initializer=b,r.HtmlControl=l,r.type=n,r.object=k,r.string=t,r.array=f,r.date=v,r.error=d,r.log=s,r.css=g,r.dom=a,r.url=nt,r.cookie=tt,r.image=ft,r.xml=it,r.const=rt,r.event=c,r.drag=ut,r.easing=y,r.controls=new w,r.init=new b,r.init.register(r.controls,!0);r.init.on("done",i.proxy(r.controls.start,r.controls));i(window).on("load",r.init.setup).on("unload",r.init.dispose);return r}