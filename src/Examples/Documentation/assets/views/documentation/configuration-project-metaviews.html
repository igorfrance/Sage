<!DOCTYPE html>
<html
	xmlns:sage="http://www.cycle99.com/schemas/sage/sage.xsd"
	xmlns:mod="http://www.cycle99.com/schemas/sage/modules.xsd"
	xmlns:p="http://www.cycle99.com/schemas/sage/configuration/project.xsd"
 	xmlns="http://www.w3.org/1999/xhtml">

	<head>
		<sage:basehref/>
		<title>Meta views (Project configuration)</title>
	</head>
	<body>

		<div class="page">

			<mod:Sidebar>
				<mod:config>
					<mod:current>
						<sage:url ref="configuration-project-metaviews"/>
					</mod:current>
				</mod:config>
			</mod:Sidebar>

			<section class="content">
				<header>
					<span>Meta views (Project configuration)</span>
				</header>
				<article>

					<section class="topic">
						<header>
							Meta views
						</header>
						<article>
							<p>
								Meta views are special development-purpose views that can be applied to any request, replacing or augmenting the view that would otherwise be selected. These views can be invoked by setting the query string parameter <code>view</code> to the name of the meta view that has been defined in the project configuration file. For instance:
							</p>
							<code class="example">http://myproject.com/catalog/chewables/gum/?<b>view=xmlx</b></code>
							<p>
								Additionally, if the <code>MetaExtensionRewriter</code> HTTP handler has been <a href="${url:link(configuration-web)}">registered with the IIS through web.config</a>, the meta view can also be selected by simply changing the the file extensions to the name of the meta view. In addition to the meta view extensions, the <code>MetaExtensionRewriter</code> adds <code>.html</code> as the default extension for all views.
							</p>
							<code class="example">
								http://myproject.com/catalog/chewables/gum.html<br/>
								http://myproject.com/catalog/chewables/gum.xml<br/>
								http://myproject.com/catalog/chewables/gum.xmlx<br/>
								http://myproject.com/catalog/chewables/gum.json<br/><br/>
							</code>
							<section class="element">
								<header>metaViews element</header>
								<article>
									<summary>Contains <code>metaView</code> elements.</summary>
									<section class="properties example">
										<header>Example</header>
										<article>
											<mod:XmlTree>
												<mod:data>
													<sage:literal>
														<metaViews>
															<metaView name="xml" contentType="text/xml" type="Sage.Views.Meta.DivertView,Sage" path="sageresx://sage/resources/metaviews/xml.xsl"/>
															<metaView name="xmlx" contentType="text/html" type="Sage.Views.Meta.DivertView,Sage" path="sageresx://sage/resources/metaviews/xmlx.xsl"/>
															<metaView name="htmlx" contentType="text/html" type="Sage.Views.Meta.RetransformView,Sage" path="sageresx://sage/resources/metaviews/xmlx.xsl"/>
															<metaView name="json" contentType="application/json" type="Sage.Views.Meta.JsonView,Sage"/>
														</metaViews>
													</sage:literal>
												</mod:data>
											</mod:XmlTree>
										</article>
									</section>
									<section class="properties children">
										<header>Child elements</header>
										<article>
											<section class="element">
												<header>metaView element</header>
												<article>
													<summary>Defines a single meta view</summary>
													<section class="properties example">
														<header>Example</header>
														<article>
															<mod:XmlTree>
																<mod:data>
																	<sage:literal>
																		<metaView name="xmlx" contentType="text/html" type="Sage.Views.Meta.DivertView,Sage" path="sageresx://sage/resources/metaviews/xmlx.xsl"/>
																	</sage:literal>
																</mod:data>
															</mod:XmlTree>
														</article>
													</section>
													<section class="properties attributes">
														<header>Attributes</header>
														<article>
															<section class="attribute">
																<header>name</header>
																<article>The name of the meta view. Required.</article>
															</section>
															<section class="attribute">
																<header>contentType</header>
																<article>The content type that this meta view serves. Required.</article>
															</section>
															<section class="attribute">
																<header>type</header>
																<article>
																	The type that implements the meta view. Required.
																</article>
															</section>
															<section class="attribute">
																<header>path</header>
																<article>The path to the view template; applicable to XSLT meta views (<code>DivertView</code> and <code>RetransformView</code>). Optional.</article>
															</section>
															<section class="attribute">
																<header>description</header>
																<article>Short description of the meta view. Optional.</article>
															</section>
														</article>
													</section>
												</article>
											</section>
										</article>
									</section>
								</article>
							</section>
						</article>
					</section>

				</article>
			</section>
		</div>
	</body>
</html>
