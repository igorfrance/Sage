<!DOCTYPE html>
<html
	xmlns:sage="http://www.cycle99.com/schemas/sage/sage.xsd"
	xmlns:mod="http://www.cycle99.com/schemas/sage/modules.xsd"
 	xmlns="http://www.w3.org/1999/xhtml">

	<head>
		<sage:basehref/>
		<title>The Sage namespace</title>
	</head>
	<body>

		<div class="page">
			<mod:Sidebar>
				<mod:config>
					<mod:current><sage:url ref="sage-namespaces-sage"/></mod:current>
				</mod:config>
			</mod:Sidebar>
			<section class="content">
				<header>
					<span>The Sage namespace</span>
				</header>
				<article>
					<summary>Contains various general purpose elements related to Sage.</summary>

					<section class="namespace">
						<header>Namespace URI:</header>
						<article>http://www.cycle99.com/schemas/sage/sage.xsd</article>
					</section>

					<section class="topic" id="attributes" data-index="yes" data-level="1">
						<header>Attributes</header>
						<article>
							<section class="element" id="attrib-attribute" data-index="yes" data-level="2">
								<header>sage:attrib attribute</header>
								<article>
									<summary>
										This attribute, when processed, subtitutes itself with another attribute, created according to the specification.
									</summary>
									<section class="properties syntax">
										<header>Syntax</header>
										<article>
											<code class="principal">sage:attrib="&lt;AttribName>=&lt;AttribValueExpression>"</code>
											<dl>
												<dt><code>&lt;AttribName&gt;</code></dt>
												<dd>The name of the attribute to create.</dd>
												<dt><code>&lt;AttribValueExpression&gt;</code></dt>
												<dd>The expression to evaluate and set the value of the attribute with. The expression is evaluated in the same way as the content of the <a href="${url:self(#expression-element)}">expression element</a>; any embedded <a href="${url:link(extensibility-text-functions)}">text function expressions</a> will be invoked and substituted by the result of that invokation.</dd>
											</dl>
										</article>
									</section>

									<section class="properties example">
										<header>Example</header>
										<article>
											<summary>Before processing:</summary>
											<mod:XmlTree>
												<mod:data>
													<sage:literal>
														<form sage:attrib="action=${url:link(customer-service, section=faq)}">...</form>
													</sage:literal>
												</mod:data>
											</mod:XmlTree>
											<summary>After processing:</summary>
											<mod:XmlTree>
												<mod:data>
													<sage:literal>
														<form action="feedback/customer-service/faq/">...</form>
													</sage:literal>
												</mod:data>
											</mod:XmlTree>
										</article>
									</section>
									<section class="properties implementation">
										<header>Implemented as:</header>
										<article>
											<a href="${url:link(extensibility-node-handlers)}">Node handler</a>
										</article>
									</section>
								</article>
							</section>
						</article>
					</section>

					<section class="topic" id="elements" data-index="yes" data-level="1">
						<header>Elements</header>
						<article>
							<section class="element" id="version-element" data-index="yes" data-level="2">
								<header>sage:version element</header>
								<article>
									<summary>Inserts the Sage version as a text node, replacing the original element.</summary>
									<section class="properties example">
										<header>Example:</header>
										<article>
											<mod:XmlTree>
												<mod:data>
													<sage:literal>
														<sage:version/>
													</sage:literal>
												</mod:data>
											</mod:XmlTree>
											<summary>Emits a value similar to:</summary>
											<code class="block">
												<sage:version/>
											</code>
										</article>
									</section>
									<section class="properties implementation">
										<header>Implemented as:</header>
										<article>
											<a href="${url:link(extensibility-node-handlers)}">Node handler</a>
										</article>
									</section>
								</article>
							</section>
							<section class="element" id="link-element" data-index="yes" data-level="2">
								<header>sage:link element</header>
								<article>
									<summary>Provides a generic element referring to a link that Sage resolves and appends as an <code>href</code> attribute during runtime. <a href="${url:link(linking)}">Read more</a>.</summary>
									<section class="properties example">
										<header>Example</header>
										<article>
											<mod:XmlTree>
												<mod:data>
													<sage:literal>
														<sage:link ref="customer-service" values="section=faq"/>
													</sage:literal>
												</mod:data>
											</mod:XmlTree>
										</article>
									</section>
									<section class="properties attributes">
										<header>Attributes</header>
										<article>
											<section class="attribute">
												<header>ref</header>
												<article>Specifies the <code>id</code> of the link this element refers to.</article>
											</section>
											<section class="attribute">
												<header>values</header>
												<article>
													A querystring list of name-value pairs to be used as substitution values for any placeholders in the URL text of the link this element refers to. For more information, see <a href="${url:link(linking)}">linking</a>.
												</article>
											</section>
											<section class="attribute">
												<header>encode</header>
												<article>If <code>true</code>, this attribute will cause the resulting link to be URL-encoded. This is useful when the link is being generated as a part of another link, or anywhere where the URL needs to be encoded.</article>
											</section>
										</article>
									</section>
									<section class="properties implementation">
										<header>Implemented as:</header>
										<article>
											<a href="${url:link(extensibility-node-handlers)}">Node handler</a>
										</article>
									</section>
								</article>
							</section>
							<section class="element" id="url-element" data-index="yes" data-level="2">
								<header>sage:url element</header>
								<article>
									<summary>Provides a generic element that refers to a predefined link that Sage resolves, replacing the element with the resolved link URL. <a href="${url:link(linking)}">Read more</a>.</summary>
									<section class="properties example">
										<header>Example</header>
										<article>
											<mod:XmlTree>
												<mod:data>
													<sage:literal>
														<sage:url ref="CustomerRegistration"/>
													</sage:literal>
												</mod:data>
											</mod:XmlTree>
										</article>
									</section>
									<section class="properties attributes">
										<header>Attributes</header>
										<article>
											<section class="attribute">
												<header>ref</header>
												<article>Specifies the <code>id</code> of the link this element refers to.</article>
											</section>
											<section class="attribute">
												<header>values</header>
												<article>
													A querystring list of name-value pairs to be used as substitution values for any placeholders in the URL text of the link this element refers to. For more information, see <a href="${url:link(linking)}">linking</a>.
												</article>
											</section>
											<section class="attribute">
												<header>encode</header>
												<article>If <code>true</code>, this attribute will cause the resulting link to be URL-encoded. This is useful when the link is being generated as a part of another link, or anywhere where the URL needs to be encoded.</article>
											</section>
										</article>
									</section>
									<section class="properties implementation">
										<header>Implemented as:</header>
										<article>
											<a href="${url:link(extensibility-node-handlers)}">Node handler</a>
										</article>
									</section>
								</article>
							</section>
							<section class="element" id="literal-element" data-index="yes" data-level="2">
								<header>sage:literal element</header>
								<article>
									<summary>This element is used to wrap markup that should be preserved as-is; that is, no preprocessing (xml inclusions, phrase or variable substitution etc) will be done on it; it's content will be served as specified, and the <code>sage:literal</code> element itself will be filtered out from the final output. The main usage of this element is to illustrate example usage.</summary>
									<section class="properties example">
										<header>Example</header>
										<article>
											<mod:XmlTree>
												<mod:data>
													<sage:literal>
														<sage:literal><sage:url ref="CustomerRegistration"/></sage:literal>
													</sage:literal>
												</mod:data>
											</mod:XmlTree>
										</article>
									</section>
									<section class="properties implementation">
										<header>Implemented as:</header>
										<article>
											<a href="${url:link(xslt-templates)}">XSLT template</a> (ignored, the template just skips over the element).
										</article>
									</section>
								</article>
							</section>
							<section class="element" id="include-element" data-index="yes" data-level="2">
								<header>sage:include element</header>
								<article>
									<summary>Includes another document or document fragment as either <code>xml</code> or <code>text</code> within the current document, replacing the including element with the included content.</summary>
									<section class="properties example">
										<header>Example:</header>
										<article>
											<summary>Including a complete document</summary>
											<mod:XmlTree>
												<mod:data>
													<sage:literal>
														<sage:include href="footer.xml"/>
													</sage:literal>
												</mod:data>
											</mod:XmlTree>
											<summary>Including a document fragment, using the <code>xpath</code> attribute</summary>
											<mod:XmlTree>
												<mod:data>
													<sage:literal>
														<sage:include href="footer.html" xpath="//xhtml:div[@class='contact']/xhtml:ul"/>
													</sage:literal>
												</mod:data>
											</mod:XmlTree>
										</article>
									</section>
									<section class="properties attributes">
										<header>Attributes</header>
										<article>
											<section class="attribute">
												<header>href</header>
												<article>Specifies the path to the document to include.</article>
											</section>
											<section class="attribute">
												<header>parse</header>
												<article>Specifies the parse mode of the document. Possible values are <code>xml</code> and <code>text</code>.</article>
											</section>
											<section class="attribute">
												<header>xpath</header>
												<article>
													When <code>parse="xml"</code>, the expression specified with the <code>xpath</code> attribute is evaluated to identify a portion of the resource to include. This attribute is optional; when omitted, the entire resource is included. The namespace prefixes that can be used
													here are any namespaces prefixes defined in the document where the <code>sage:include</code> element is being used, as well as the <a href="${url:link(sage-namespaces)}">common namespaces and namespace prefixes in use throughout Sage</a>.
												</article>
											</section>
										</article>
									</section>
									<section class="properties children">
										<header>Child elements</header>
										<article>
											<section class="element" id="fallback-element" data-index="yes" data-level="3">
												<header>sage:fallback element</header>
												<article>
													<summary>Optional alternative content to display in it's place if loading of the resource specified by the parent <code>sage:include</code> element fails.</summary>
													<section class="properties example">
														<header>Example:</header>
														<article>
															<summary>In this example, there are two levels of fallback:</summary>
															<mod:XmlTree>
																<mod:data>
																	<sage:literal>
																		<sage:include href="example.txt" parse="text">
																			<sage:fallback>
																				<sage:include href="fallback-example.txt" parse="text">
																					<sage:fallback>
																						<a href="mailto:bob@example.org">Report error</a>
																					</sage:fallback>
																				</sage:include>
																			</sage:fallback>
																		</sage:include>
																	</sage:literal>
																</mod:data>
															</mod:XmlTree>
														</article>
													</section>
												</article>
											</section>
										</article>
									</section>
								</article>
							</section>
						</article>
					</section>

				</article>
			</section>
		</div>
	</body>
</html>
