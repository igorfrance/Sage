<!DOCTYPE html>
<html
	xmlns:sage="http://www.cycle99.com/schemas/sage/sage.xsd"
	xmlns:mod="http://www.cycle99.com/schemas/sage/modules.xsd"
	xmlns:p="http://www.cycle99.com/schemas/sage/configuration/project.xsd"
 	xmlns="http://www.w3.org/1999/xhtml">

	<head>
		<sage:basehref/>
		<title>Libraries (Project configuration)</title>
	</head>
	<body>

		<div class="page">

			<mod:Sidebar>
				<mod:config>
					<mod:current>
						<sage:url ref="configuration-project-libraries"/>
					</mod:current>
				</mod:config>
			</mod:Sidebar>

			<section class="content">
				<header>
					<span>Libraries (Project configuration)</span>
				</header>
				<details>

					<summary>
						<a href="${url:link(resource-libraries)}">Resource libraries</a> provide a convenient way to automate inclusion of various web resources into pages. The library can be configured to be automatically included based on the request URL. If a module or one of its dependencies uses a library (such as <i>jquery.ui</i> for instance), and the module is used on the current view the library will be automatically included as well. Libraries can also depend on other libraries, enabling further resource reuse and organization. Additionally, a library can also be included on a view simply by referencing it with the <code>sage:library</code> element. <a href="${url:link(resource-libraries)}">Read more</a>.
					</summary>

					<section class="topic">
						<header>
							Reference
						</header>
						<details>
							<section class="element">
								<header>
									<h5>library element</h5>
								</header>
								<details>
									<summary>
										Defines a reusable resource library that can be used throughout the project
									</summary>
									<section class="properties example">
										<header>Example</header>
										<details>
											<mod:XmlTree>
												<mod:config>
												</mod:config>
												<mod:data>
													<sage:literal>
														<library name="global">
															<resources>
																<resource type="icon" location="head" path="/favicon.ico"/>
																<resource type="style" location="head" path="{{assetpath}}/css/documentation.css"/>
																<resource type="style" location="head" path="{{assetpath}}/css/documentation-ie.css" limitTo="ie"/>
																<resource type="script" location="head" path="kelp://{{assetpath}}/scripts/lib/aeon/aeon.js"/>
																<resource type="document" location="data" path="{{assetpath}}/configuration/navigation.xml"/>
															</resources>
															<include>
																<always/>
															</include>
														</library>
													</sage:literal>
												</mod:data>
											</mod:XmlTree>
										</details>
									</section>
									<section class="properties attributes">
										<header>Attributes</header>
										<details>
											<section class="attribute">
												<header>name</header>
												<details>Specifies the name of the library.</details>
											</section>
										</details>
									</section>
									<section class="properties children">
										<header>Child elements</header>
										<details>
											<section class="element">
												<header>
													<h5>resources/resource</h5>
												</header>
												<details>
													<summary>Specifies the resources this library consists of. Whenever the library is used, it's resources will be added to the page, as defined with this element.</summary>
													<section class="properties example">
														<header>Example</header>
														<details>
															<mod:XmlTree>
																<mod:data>
																	<sage:literal>
																		<library name="example">
																			<resources>
																				<resource type="script" location="head" path="kelp://{{assetpath}}/scripts/lib/aeon/aeon.js"/>
																				<resource type="style" location="head" path="{{assetpath}}/css/documentation-ie.css" limitTo="ie"/>
																				<resource type="document" location="data" path="{{assetpath}}/configuration/navigation.xml"/>
																			</resources>
																		</library>
																	</sage:literal>
																</mod:data>
															</mod:XmlTree>
														</details>
													</section>
													<section class="properties attributes">
														<header>Attributes</header>
														<details>
															<section class="attribute">
																<header>type</header>
																<details>
																	<summary>
																		Specifies the resource type. Possible values are: <code>script</code>, <code>style</code>, <code>document</code> and <code>icon</code>.
																	</summary>
																	<mod:ExpandSection>
																		<mod:config>
																			<mod:class>moreinfo</mod:class>
																			<mod:state>collapsed</mod:state>
																		</mod:config>
																		<mod:data>
																			<header>
																				<span class="expand">More</span>
																				<span class="collapse">Less</span>
																			</header>
																			<details>
																				<table class="definition">
																					<col style="width: 100px"/>
																					<col/>
																					<thead>
																						<tr>
																							<th>Type</th>
																							<th>Description</th>
																						</tr>
																					</thead>
																					<tr>
																						<th>script</th>
																						<td>
																							Specifies a client-side JavaScript resource. For <code>script</code> resources <code>location</code> may be either <code>head</code> or <code>body</code>.
																						</td>
																					</tr>
																					<tr>
																						<th>style</th>
																						<td>
																							Specifies a client-side CSS resource. For <code>style</code> resources <code>location</code> may be either <code>head</code> or <code>body</code>.
																						</td>
																					</tr>
																					<tr>
																						<th>document</th>
																						<td>
																							Specifies a server-side XML resource. For <code>document</code> resources <code>location</code> may only be <code>data</code>.
																						</td>
																					</tr>
																					<tr>
																						<th>icon</th>
																						<td>
																							Specifies the website favorites icon. For <code>icon</code> resources <code>location</code> may only be <code>head</code>.
																						</td>
																					</tr>
																				</table>
																			</details>
																		</mod:data>
																	</mod:ExpandSection>
																</details>
															</section>
															<section class="attribute">
																<header>name</header>
																<details>
																	<summary>
																		Specifies the resource name. This attribute is only applicable for <code>document</code> type resources. A documents resource is inserted as a child element into the <a href="${url:link(xml-input-document)}">input document</a>, and is assigned this value as its <a href="${url:link(xml-input-document, #sage:resourceName)}">sage:resourceName</a> attribute.
																	</summary>
																</details>
															</section>
															<section class="attribute">
																<header>location</header>
																<details>
																	<summary>
																		Specifies the location in which to include the resource. Possible values are: <code>head</code>, <code>body</code> and <code>data</code>.
																	</summary>
																	<mod:ExpandSection>
																		<mod:config>
																			<mod:class>moreinfo</mod:class>
																			<mod:state>collapsed</mod:state>
																		</mod:config>
																		<mod:data>
																			<header>
																				<span class="expand">More</span>
																				<span class="collapse">Less</span>
																			</header>
																			<details>
																				<table class="definition">
																					<col style="width: 100px"/>
																					<col/>
																					<thead>
																						<tr>
																							<th>Type</th>
																							<th>Description</th>
																						</tr>
																					</thead>
																					<tr>
																						<th>head</th>
																						<td>
																							Indicates that the resource should be included within the head of the document.
																						</td>
																					</tr>
																					<tr>
																						<th>body</th>
																						<td>
																							Indicates that the resource should be included within the body of the document. The
																							resource (a <code>&lt;script/&gt;</code> or a <code>&lt;style/&gt;</code> tag) will
																							be included just before the closing <code>&lt;/body&gt;</code> tag.
																						</td>
																					</tr>
																					<tr>
																						<th>data</th>
																						<td>
																							Indicates the the resource should be included as a child element of the request's input XML document. Applicable to <code>document</code> type resources.
																						</td>
																					</tr>
																				</table>
																			</details>
																		</mod:data>
																	</mod:ExpandSection>
																</details>
															</section>
															<section class="attribute">
																<header>path</header>
																<details>
																	<summary>Specifies the resource path. Unless the path is qualified, it is considered relative to the root of the web application. You can use the <a href="${url:link(resource-processing-kelp)}">kelp:// URL scheme</a> in the resource path.</summary>
																</details>
															</section>
															<section class="attribute">
																<header>limitTo</header>
																<details>
																	<summary>Comma-separated list of user agent id's to which the resource library applies. For instance, <code>ie6,ie7,chrome5,firefox7,opera10,safari4</code>.</summary>
																</details>
															</section>
														</details>
													</section>
												</details>
											</section>
											<section class="element">
												<header>
													<h5>dependencies/library</h5>
												</header>
												<details>
													<summary>
														Specifies libraries that this library depends on. Whenever the library is used, before it's own resources are added to the page, the resources of the dependency library will be added too.
													</summary>
													<section class="properties example">
														<header>Example</header>
														<details>
															<mod:XmlTree>
																<mod:data>
																	<sage:literal>
																		<library name="example">
																			<dependencies>
																				<library ref="aeon"/>
																			</dependencies>
																		</library>
																	</sage:literal>
																</mod:data>
															</mod:XmlTree>
														</details>
													</section>
													<section class="properties attributes">
														<header>Attributes</header>
														<details>
															<section class="attribute">
																<header>ref</header>
																<details>Specifies the name of the library this that library depends on.</details>
															</section>
														</details>
													</section>
												</details>
											</section>
											<section class="element">
												<header>
													<h5>include/path</h5>
												</header>
												<details>
													<summary>
														Defines a (part of a) URL path for which the library should automatically be included. Multiple path elements can be used to provide various paths.
													</summary>
													<summary>
														The text content of this element is evaluated as a regular expression.
													</summary>
													<section class="properties example">
														<header>Example</header>
														<details>
															<mod:XmlTree>
																<mod:data>
																	<sage:literal>
																		<library name="example">
																			<include>
																				<path>customer/registration</path>
																				<path>customer/\d+</path>
																			</include>
																		</library>
																	</sage:literal>
																</mod:data>
															</mod:XmlTree>
														</details>
													</section>
												</details>
											</section>
											<section class="element">
												<header>
													<h5>include/always</h5>
												</header>
												<details>
													<summary>Indicates that the library should always be included, with every request. If this element appears, any sibling <code>path</code> elements are ignored and the library is included, always.</summary>
													<section class="properties example">
														<header>Example</header>
														<details>
															<mod:XmlTree>
																<mod:data>
																	<sage:literal>
																		<library name="example">
																			<include>
																				<always/>
																			</include>
																		</library>
																	</sage:literal>
																</mod:data>
															</mod:XmlTree>
														</details>
													</section>
												</details>
											</section>
										</details>
									</section>
								</details>
							</section>
						</details>
					</section>

				</details>
			</section>
		</div>
	</body>
</html>
